---
title: "Windows11 WSL2 ì†Œê°œ"
category: Linux
toc: true
toc_label: "ì´ í˜ì´ì§€ ëª©ì°¨"
---

Windows11ì— í¬í•¨ëœ WSL2ë¥¼ ê°„ë‹¨íˆ ì†Œê°œí•œë‹¤.

## Windows11 ì„¤ì¹˜
2021ë…„ 10ì›” 5ì¼ì— Windows11ì´ ì¶œì‹œë˜ì—ˆë‹¤.  
Windows10ì—ì„œ ë¬´ë£Œë¡œ ì—…ê·¸ë ˆì´ë“œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì§‘ì— ìˆëŠ” ë°ìŠ¤í¬íƒ‘ê³¼ ë…¸íŠ¸ë¶ì—ì„œ ê°ê° ì—…ê·¸ë ˆì´ë“œì™€ í´ë¦° ì„¤ì¹˜ë¥¼ í•´ ë³´ì•˜ë‹¤. BIOSì—ì„œ TPMê³¼ secure bootë§Œ enable ì‹œí‚¤ë‹ˆ, ë‘˜ ë‹¤ ì–´ë ¤ì›€ì—†ì´ ê¸ˆë°© ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤.

## Windows11 ê¸°ë³¸ í¬í•¨
Windows11ì—ëŠ” ì•„ë˜ í”„ë¡œê·¸ë¨ë“¤ì´ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì„œ í•œì¸µ í¸ë¦¬í•´ì¡Œë‹¤.
- `wget`: Windows app installer
- `wt`: Windows terminal
- `wsl`: WSL2
> Windows11ì—ì„œëŠ” íƒìƒ‰ê¸°ì—ì„œ ë§ˆìš°ìŠ¤ ìš°í´ë¦­í•˜ì—¬ `Windows í„°ë¯¸ë„ì—ì„œ ì—´ê¸°`ë¥¼ ì„ íƒí•˜ë©´ ë°”ë¡œ í•´ë‹¹ ë””ë ‰í† ë¦¬ì—ì„œ Windows terminalì´ ì—´ë¦¬ë¯€ë¡œ í•œì¸µ í¸ë¦¬í•´ì¡Œë‹¤.

## WSL ì„¤ì¹˜
Windows11ì— í¬í•¨ëœ WSLì€ ìƒˆë¡œ ì¶”ê°€ëœ `--install` ì˜µì…˜ì„ ì§€ì›í•œë‹¤. ê´€ë¦¬ì ê¶Œí•œì˜ consleì—ì„œ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ì‹œí‚¤ë©´, WSLì— í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìë™ìœ¼ë¡œ ì„¤ì¹˜ëœë‹¤. (ì •ë§ í¸í•´ì¡Œë‹¤. ğŸ˜Š)
```shell
C:\>wsl --install
```
ê²°ê³¼ë¡œ ì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ ëª¨ë“  ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì™„ë£Œëœë‹¤.
```shell
ì„¤ì¹˜ ì¤‘: ê°€ìƒ ë¨¸ì‹  í”Œë«í¼
ê°€ìƒ ë¨¸ì‹  í”Œë«í¼ì´(ê°€) ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.
ì„¤ì¹˜ ì¤‘: Linuxìš© Windows í•˜ìœ„ ì‹œìŠ¤í…œ
Linuxìš© Windows í•˜ìœ„ ì‹œìŠ¤í…œì´(ê°€) ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.
ë‹¤ìš´ë¡œë“œ ì¤‘: WSL ì»¤ë„
ì„¤ì¹˜ ì¤‘: WSL ì»¤ë„
WSL ì»¤ë„ì´(ê°€) ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.
ë‹¤ìš´ë¡œë“œ ì¤‘: GUI ì•± ì§€ì›
ì„¤ì¹˜ ì¤‘: GUI ì•± ì§€ì›
GUI ì•± ì§€ì›ì´(ê°€) ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.
ë‹¤ìš´ë¡œë“œ ì¤‘: Ubuntu
ìš”ì²­í•œ ì‘ì—…ì´ ì˜ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œì„ ë‹¤ì‹œ ì‹œì‘í•˜ë©´ ë³€ê²½ ì‚¬í•­ì´ ì ìš©ë©ë‹ˆë‹¤.
```

## WSL ì—…ë°ì´íŠ¸
Windows11ì— í¬í•¨ëœ WSLì€ ìƒˆë¡œ ì¶”ê°€ëœ `--update` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ WSLì„ ì—…ë°ì´íŠ¸ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ê´€ë¦¬ì ê¶Œí•œì˜ consleì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•˜ë©´ WSLì´ ì—…ë°ì´íŠ¸ëœë‹¤.
```shell
C:\>wsl --update
```
ë˜í•œ ìƒˆë¡œ ì¶”ê°€ëœ `--version` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì„¤ì¹˜ëœ WSLì˜ ë²„ì „ë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
```shell
C:\>wsl --version
```

## Linux ë°°í¬íŒ ì„¤ì¹˜
ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ë°°í¬íŒ ì •ë³´ê°€ ì¶œë ¥ëœë‹¤.
```shell
C:\>wsl --list --online
```
í˜„ì¬ ì‹œì ì—ì„œëŠ” ê²°ê³¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì™”ë‹¤.
```
ë‹¤ìŒì€ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” ìœ íš¨í•œ ë°°í¬ ëª©ë¡ì…ë‹ˆë‹¤.
'wsl --install -d <ë°°í¬>'ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜í•˜ì„¸ìš”.

NAME            FRIENDLY NAME
Ubuntu          Ubuntu
Debian          Debian GNU/Linux
kali-linux      Kali Linux Rolling
openSUSE-42     openSUSE Leap 42
SLES-12         SUSE Linux Enterprise Server v12
Ubuntu-16.04    Ubuntu 16.04 LTS
Ubuntu-18.04    Ubuntu 18.04 LTS
Ubuntu-20.04    Ubuntu 20.04 LTS
```
ì•„ë˜ì™€ ê°™ì´ í•´ë‹¹ Linux ë°°í¬íŒì„ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.
```shell
C:\>wsl --install --distribution <ë°°í¬íŒì´ë¦„>
```
ë˜ëŠ” Microsoft Storeì—ì„œ Linuxë¡œ ê²€ìƒ‰í•´ì„œ ë‚˜ì˜¤ëŠ” ë°°í¬íŒì„ ì„ íƒí•˜ì—¬ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.

## WSL ë“œë¼ì´ë¸Œ
Windows11ì—ì„œëŠ” ë””í´íŠ¸ë¡œ íƒìƒ‰ê¸°ì— ì„¤ì¹˜ëœ WSL ë°°í¬íŒì˜ ë“œë¼ì´ë¸Œê°€ ì•„ë˜ ì˜ˆì™€ ê°™ì´ í‘œì‹œë˜ë¯€ë¡œ íƒìƒ‰ê¸°ì—ì„œë„ WSL ë””ë ‰í† ë¦¬ì— ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
<p><img src="/assets/images/linux_drive.png"></p>

## WSL GUI
Windows11ì˜ WSLì—ì„œëŠ” ë””í´íŠ¸ë¡œ Linux GUI ì•±ì„ ì§€ì›í•œë‹¤. ë‹¨ìˆœíˆ WSLì„ ì‹¤í–‰í•œ í›„, GUI í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•´ì„œ ì‹¤í–‰í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤. ğŸ˜

## snap íŒ¨í‚¤ì§€ ì„¤ì¹˜ì‹œ ì—ëŸ¬
ê·¸ëŸ°ë° snapìœ¼ë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ì‹œì— ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ì„œ ì„¤ì¹˜ê°€ ë˜ëŠ” ì•ŠëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤.
> error: cannot communicate with server: Post http://localhost/v2/snaps/code: dial unix /run/snapd.socket: connect: no such file or directory

êµ¬ê¸€ë§ í•œ ê²°ê³¼, https://github.com/microsoft/WSL/issues/5126 ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•œ í›„ì—, ë‹¤ì‹œ ì‹œë„í•´ ë³´ë‹ˆ íŒ¨í‚¤ì§€ê°€ ì˜ ì„¤ì¹˜ë˜ì—ˆë‹¤.
```shell
$ sudo apt update
$ sudo apt install -yqq daemonize dbus-user-session fontconfig
$ sudo daemonize /usr/bin/unshare --fork --pid --mount-proc /lib/systemd/systemd --system-unit=basic.target
$ exec sudo nsenter -t $(pidof systemd) -a su - $LOGNAME
```
